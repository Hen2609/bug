module.exports = function hoist(_owner, name, hoister) {
  let initialized = false;
  return (child, val) => {
    if (child) {
      initialized = true;
      hoister(val);
    } else if (!initialized) {
      throw new ReferenceError(`Cannot access '${name}' before initialization`);
    }
  };
};
