import {
  require_BufferedWriter
} from "./chunk-4I5EL46D.js";
import "./chunk-B57242OF.js";
import "./chunk-FBABJUQR.js";
import {
  __commonJS
} from "./chunk-TWLJ45QX.js";

// node_modules/marko/src/core-tags/core/__flush_here_and_after__.js
var require_flush_here_and_after = __commonJS({
  "node_modules/marko/src/core-tags/core/__flush_here_and_after__.js"(exports, module) {
    var BufferedWriter = require_BufferedWriter();
    module.exports = function __flushHereAndAfter__(input, out) {
      if (out.isSync()) {
        out._sync = false;
        const asyncOut = out.beginAsync({ last: true });
        out._sync = true;
        asyncOut.sync();
        out.onLast(() => {
          input.renderBody(asyncOut);
          asyncOut.end();
        });
      } else {
        let flushed = false;
        const asyncOut = out.beginAsync({ last: true });
        const nextWriter = out.writer;
        out.on("___toString", (writer) => {
          if (writer instanceof BufferedWriter) {
            if (flushed) {
              const detachedOut = out.createOut();
              detachedOut.sync();
              input.renderBody(detachedOut);
              writer._content = detachedOut.toString() + writer._content;
            } else if (writer.next === nextWriter) {
              asyncOut.sync();
              input.renderBody(asyncOut);
              asyncOut.end();
              flushed = true;
            }
          }
        });
        out.onLast(() => {
          if (!flushed) {
            asyncOut.sync();
            input.renderBody(asyncOut);
            asyncOut.end();
            flushed = true;
          }
        });
      }
    };
  }
});
export default require_flush_here_and_after();
//# sourceMappingURL=marko_src_core-tags_core___flush_here_and_after____js.js.map
