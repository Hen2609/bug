import {
  __commonJS
} from "./chunk-TWLJ45QX.js";

// node_modules/marko/src/core-tags/components/preserve-tag/index-browser.js
var require_index_browser = __commonJS({
  "node_modules/marko/src/core-tags/components/preserve-tag/index-browser.js"(exports, module) {
    module.exports = function render(input, out) {
      var componentsContext = out.___components;
      var isHydrate = componentsContext && componentsContext.___globalContext.___isHydrate;
      var ownerComponent = out.___assignedComponentDef.___component;
      var shouldPreserve = !("i" in input) || input.i;
      var referenceComponent = ownerComponent;
      var key = out.___assignedKey;
      var checkKey = key;
      if (key[0] !== "@") {
        var parentComponent = componentsContext.___componentDef.___component;
        if (ownerComponent !== parentComponent) {
          referenceComponent = parentComponent;
          checkKey += ":" + ownerComponent.id;
        }
      }
      var isPreserved = Boolean(
        shouldPreserve && (isHydrate || referenceComponent.___keyedElements[checkKey])
      );
      if (input.n) {
        if (isPreserved) {
          if (input.b) {
            out.___parent.___preserveBody = true;
          } else {
            out.beginElement("", null, key, ownerComponent);
            out.___parent.___preserve = true;
            out.endElement();
          }
        } else if (input.renderBody) {
          input.renderBody(out);
        }
      } else {
        out.bf(key, ownerComponent, shouldPreserve);
        if (!isPreserved && input.renderBody) {
          input.renderBody(out);
        }
        out.ef();
      }
    };
  }
});
export default require_index_browser();
//# sourceMappingURL=marko_src_core-tags_components_preserve-tag.js.map
