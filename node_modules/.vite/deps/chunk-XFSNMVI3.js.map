{
  "version": 3,
  "sources": ["../../marko/src/runtime/createOut.js", "../../marko/src/runtime/dom-insert.js", "../../events-light/src/index.js", "../../marko/src/runtime/RenderResult.js"],
  "sourcesContent": ["var actualCreateOut;\n\nfunction setCreateOut(createOutFunc) {\n  actualCreateOut = createOutFunc;\n}\n\nfunction createOut(globalData) {\n  return actualCreateOut(globalData);\n}\n\ncreateOut.___setCreateOut = setCreateOut;\n\nmodule.exports = createOut;\n", "var extend = require(\"raptor-util/extend\");\nvar componentsUtil = require(\"./components/util\");\nvar destroyComponentForNode = componentsUtil.___destroyComponentForNode;\nvar destroyNodeRecursive = componentsUtil.___destroyNodeRecursive;\nvar helpers = require(\"./vdom/morphdom/helpers\");\n\nvar insertBefore = helpers.___insertBefore;\nvar insertAfter = helpers.___insertAfter;\nvar removeChild = helpers.___removeChild;\n\nfunction resolveEl(el) {\n  if (typeof el == \"string\") {\n    var elId = el;\n    el = document.getElementById(elId);\n    if (!el) {\n      throw Error(\"Not found: \" + elId);\n    }\n  }\n  return el;\n}\n\nfunction beforeRemove(referenceEl) {\n  destroyNodeRecursive(referenceEl);\n  destroyComponentForNode(referenceEl);\n}\n\nmodule.exports = function (target, getEl, afterInsert) {\n  extend(target, {\n    appendTo: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertBefore(el, null, referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    prependTo: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertBefore(el, referenceEl.firstChild || null, referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    replace: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      beforeRemove(referenceEl);\n      insertBefore(el, referenceEl, referenceEl.parentNode);\n      removeChild(referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    replaceChildrenOf: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n\n      var curChild = referenceEl.firstChild;\n      while (curChild) {\n        var nextSibling = curChild.nextSibling; // Just in case the DOM changes while removing\n        beforeRemove(curChild);\n        curChild = nextSibling;\n      }\n\n      referenceEl.innerHTML = \"\";\n      insertBefore(el, null, referenceEl);\n      return afterInsert(this, referenceEl);\n    },\n    insertBefore: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertBefore(el, referenceEl, referenceEl.parentNode);\n      return afterInsert(this, referenceEl);\n    },\n    insertAfter: function (referenceEl) {\n      referenceEl = resolveEl(referenceEl);\n      var el = getEl(this, referenceEl);\n      insertAfter(el, referenceEl, referenceEl.parentNode);\n      return afterInsert(this, referenceEl);\n    }\n  });\n};\n", "/* jshint newcap:false */\nvar slice = Array.prototype.slice;\n\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\n\nfunction checkListener(listener) {\n    if (!isFunction(listener)) {\n        throw TypeError('Invalid listener');\n    }\n}\n\nfunction invokeListener(ee, listener, args) {\n    switch (args.length) {\n        // fast cases\n        case 1:\n            listener.call(ee);\n            break;\n        case 2:\n            listener.call(ee, args[1]);\n            break;\n        case 3:\n            listener.call(ee, args[1], args[2]);\n            break;\n            // slower\n        default:\n            listener.apply(ee, slice.call(args, 1));\n    }\n}\n\nfunction addListener(eventEmitter, type, listener, prepend) {\n    checkListener(listener);\n\n    var events = eventEmitter.$e || (eventEmitter.$e = {});\n\n    var listeners = events[type];\n    if (listeners) {\n        if (isFunction(listeners)) {\n            events[type] = prepend ? [listener, listeners] : [listeners, listener];\n        } else {\n            if (prepend) {\n                listeners.unshift(listener);\n            } else {\n                listeners.push(listener);\n            }\n        }\n\n    } else {\n        events[type] = listener;\n    }\n    return eventEmitter;\n}\n\nfunction EventEmitter() {\n    this.$e = this.$e || {};\n}\n\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype = {\n    $e: null,\n\n    emit: function(type) {\n        var args = arguments;\n\n        var events = this.$e;\n        if (!events) {\n            return;\n        }\n\n        var listeners = events && events[type];\n        if (!listeners) {\n            // If there is no 'error' event listener then throw.\n            if (type === 'error') {\n                var error = args[1];\n                if (!(error instanceof Error)) {\n                    var context = error;\n                    error = new Error('Error: ' + context);\n                    error.context = context;\n                }\n\n                throw error; // Unhandled 'error' event\n            }\n\n            return false;\n        }\n\n        if (isFunction(listeners)) {\n            invokeListener(this, listeners, args);\n        } else {\n            listeners = slice.call(listeners);\n\n            for (var i=0, len=listeners.length; i<len; i++) {\n                var listener = listeners[i];\n                invokeListener(this, listener, args);\n            }\n        }\n\n        return true;\n    },\n\n    on: function(type, listener) {\n        return addListener(this, type, listener, false);\n    },\n\n    prependListener: function(type, listener) {\n        return addListener(this, type, listener, true);\n    },\n\n    once: function(type, listener) {\n        checkListener(listener);\n\n        function g() {\n            this.removeListener(type, g);\n\n            if (listener) {\n                listener.apply(this, arguments);\n                listener = null;\n            }\n        }\n\n        this.on(type, g);\n\n        return this;\n    },\n\n    // emits a 'removeListener' event iff the listener was removed\n    removeListener: function(type, listener) {\n        checkListener(listener);\n\n        var events = this.$e;\n        var listeners;\n\n        if (events && (listeners = events[type])) {\n            if (isFunction(listeners)) {\n                if (listeners === listener) {\n                    delete events[type];\n                }\n            } else {\n                for (var i=listeners.length-1; i>=0; i--) {\n                    if (listeners[i] === listener) {\n                        listeners.splice(i, 1);\n                    }\n                }\n            }\n        }\n\n        return this;\n    },\n\n    removeAllListeners: function(type) {\n        var events = this.$e;\n        if (events) {\n            delete events[type];\n        }\n    },\n\n    listenerCount: function(type) {\n        var events = this.$e;\n        var listeners = events && events[type];\n        return listeners ? (isFunction(listeners) ? 1 : listeners.length) : 0;\n    }\n};\n\nmodule.exports = EventEmitter;", "var domInsert = require(\"./dom-insert\");\nvar complain = \"MARKO_DEBUG\" && require(\"complain\");\n\nfunction getRootNode(el) {\n  var cur = el;\n  while (cur.parentNode) cur = cur.parentNode;\n  return cur;\n}\n\nfunction getComponentDefs(result) {\n  var componentDefs = result.___components;\n\n  if (!componentDefs) {\n    throw Error(\"No component\");\n  }\n  return componentDefs;\n}\n\nfunction RenderResult(out) {\n  this.out = this.___out = out;\n  this.___components = undefined;\n}\n\nmodule.exports = RenderResult;\n\nvar proto = (RenderResult.prototype = {\n  getComponent: function () {\n    return this.getComponents()[0];\n  },\n  getComponents: function (selector) {\n    if (this.___components === undefined) {\n      throw Error(\"Not added to DOM\");\n    }\n\n    var componentDefs = getComponentDefs(this);\n\n    var components = [];\n\n    componentDefs.forEach(function (componentDef) {\n      var component = componentDef.___component;\n      if (!selector || selector(component)) {\n        components.push(component);\n      }\n    });\n\n    return components;\n  },\n\n  afterInsert: function (host) {\n    var out = this.___out;\n    var componentsContext = out.___components;\n    if (componentsContext) {\n      this.___components = componentsContext.___initComponents(host);\n    } else {\n      this.___components = null;\n    }\n\n    return this;\n  },\n  getNode: function (host) {\n    return this.___out.___getNode(host);\n  },\n  getOutput: function () {\n    return this.___out.___getOutput();\n  },\n  toString: function () {\n    return this.___out.toString();\n  },\n  document: typeof document === \"object\" && document\n});\n\nObject.defineProperty(proto, \"html\", {\n  get: function () {\n    // eslint-disable-next-line no-constant-condition\n    if (\"MARKO_DEBUG\") {\n      complain(\n        'The \"html\" property is deprecated. Please use \"toString\" instead.'\n      );\n    }\n    return this.toString();\n  }\n});\n\nObject.defineProperty(proto, \"context\", {\n  get: function () {\n    // eslint-disable-next-line no-constant-condition\n    if (\"MARKO_DEBUG\") {\n      complain(\n        'The \"context\" property is deprecated. Please use \"out\" instead.'\n      );\n    }\n    return this.___out;\n  }\n});\n\n// Add all of the following DOM methods to Component.prototype:\n// - appendTo(referenceEl)\n// - replace(referenceEl)\n// - replaceChildrenOf(referenceEl)\n// - insertBefore(referenceEl)\n// - insertAfter(referenceEl)\n// - prependTo(referenceEl)\ndomInsert(\n  proto,\n  function getEl(renderResult, referenceEl) {\n    return renderResult.getNode(getRootNode(referenceEl));\n  },\n  function afterInsert(renderResult, referenceEl) {\n    return renderResult.afterInsert(getRootNode(referenceEl));\n  }\n);\n"],
  "mappings": "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",
  "names": []
}
